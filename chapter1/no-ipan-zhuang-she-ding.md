# no-ip安裝設定

---

> 安裝NO-IP DUC
>
> 設定啟動時執行

* 網路上作法多為使用update-rc.d加入啟動服務，可成功更新IP沒問題，但實測若更新  
  週期設為5分鐘，則需等到第6分鐘後才有機會更新，導致有段空窗期，所以想辦法縮短這段空窗期。

* 首先想到的方法是把noip的更新週期縮短，但又怕設太短機器會太忙，所以作罷。

* 再者就是探討為何服務啟動時沒有立即更新，這個問題猜測是當時網路服務可能未啟動或IP還沒取得所致，導致無法成功更新。所以產生一個想法就是修改執行noip的執行時機，設定為開機後等待30秒後再執行noip服務，經實測後結果為可行，成功縮短等待空窗期，作法如下：

* 新增一個noip-auto.sh檔，執行noip服務前延遲30秒（需注意noip相關檔案執行身分與權限）

`#!/bin/bash`

sleep 30



`/usr/local/bin/noip2`

